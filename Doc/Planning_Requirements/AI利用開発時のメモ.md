# AI 利用メモ（GitHub 表示向け）

このファイルは、開発時に利用した AI 活用のメモ・プロンプト・運用方針をまとめたものです。GitHub 上で読みやすいように整理しています。

---

## 1) ER図の設計について

- GitHub Copilot や LLM で Mermaid 記法のコードを生成し、draw.io（diagrams.net）へ貼り付けて図を作成する運用を行っています。
- 手順（簡易）:
  1. Mermaid のコードを生成
  2. draw.io を開き「Arrange > Insert > Advanced > Mermaid」へ貼り付け
  3. 必要に応じてレイアウト調整・エクスポート

---

## 2) データベース設計書の自動生成運用

- Claude や別の LLM に設計書の草案（仕様・ER図・テーブル定義）を作らせ、Excel 形式で出力を＃依頼する運用を行いました。
- 生成物は必ず手動でレビューし、最終的なDDLや制約は担当者が確定します。

---

## 3) 代表的なプロンプト（抜粋）

以下は運用で用いたプロンプトの抜粋です（機密情報は除外）。そのまま GitHub 上に掲載できるよう、各＃依頼を個別の fenced code block にしています。

### ログイン処理（Spring Security）プロンプト

```text
＃依頼
spring securityを利用したログイン処理を作成してください。
html作成はしないでください。
管理者ログイン処理の作成はしないでください。

＃作成したいログイン処理
controller
エンティテイ
サービス
リポジトリ
UserDetails

＃参考情報
参考処理として、以下を保存しておりますが、こちらをもとに修正してください。
/src/main/java/com/inventory/inventory_management/security/UserDetailsImpl.java
/src/main/java/com/inventory/inventory_management/security/UserDetailsServiceImpl.java

それでは、作成してください
```

### 商品管理画面プロンプト

```text
＃依頼
商品管理画面の作成してください。
products.htmlの静的な記載は、動的な処理へ修正する

＃作成したい処理
controller
エンティテイ
サービス
リポジトリ

＃参考情報
画面イメージとして、products.htmlをもとに作成してください。
controllerの参考として、AdminInventoryControllerを利用
```

### 在庫詳細画面プロンプト

```text
＃依頼
在庫詳細画面の作成してください。
html作成はしないでください。
管理者の商品詳細画面とは別での作成となります。

＃作成したい処理
controller
エンティテイ
サービス
リポジトリ

＃参考情報
画面イメージとして、product-detail.htmlをもとに作成してください。
```

### ユーザ一覧画面プロンプト

```text
＃依頼
ユーザ一覧画面を作成してください。
ユーザ一覧画面で、ユーザ一覧から削除アイコン、編集アイコンを
選択して、それぞれの処理を行うようにしてください。
削除アイコンは、削除モーダルで削除
編集アイコンは、ユーザ編集画面へ遷移

＃作成したい処理
controller
エンティテイ
サービス
リポジトリ

＃参考情報
画面イメージとして、管理者の在庫管理をもとに作成してください。

＃注意事項
テストケース作成、テスト実行は不要です。
```

### 管理者ホーム画面に表示する指標（要望）

```text
・総会員数
・無料会員数
・有料会員数
・店舗数
・総予約数
・ユーザからの月間売り上げ

＃ログアノテーションを利用
@Slf4j

＃エラーハンドラーは
GlobalExceptionHandlerを利用

## 4) そのほか

### エラーチェックについて
```text
additional-spring-configuration-metadata.json に追記して、VS Code の問題点に表示されないようにした。

### カバレッジテストについて
```text
カバレッジテストは、以下で達成バーをだしています
VS Code の Java のカバレッジ表示（Test Runner for Java 系）です。



### 完全なテスト構成（Web開発 フルセット）
┌─────────────────────────────────────────────────────┐
│ ① 単体テスト（Unit Test）                           
│   ・JUnit ／ Mockito（Java: Service, Repository）   
│   ・Jest（JavaScript: バリデーション, 画面ロジック）  
├─────────────────────────────────────────────────────┤
│ ② APIテスト                                         
│   ・MockMvc（Controller層のHTTPテスト）             
│   ・Postman / REST Assured（APIの入出力検証）       
├─────────────────────────────────────────────────────┤
│ ③ 結合テスト（Integration Test）                    
│   ・SpringBootTest（Controller〜DB全層通し）        
│   ・DBテスト（DBUnit / Testcontainers）             
├─────────────────────────────────────────────────────┤
│ ④ E2Eテスト / UIテスト                              
│   ・Selenium / Playwright / Cypress                 
│   ・主要シナリオのみ自動化                          
├─────────────────────────────────────────────────────┤
│ ⑤ システムテスト                                    
│   ・手動シナリオテスト（業務フロー全体）            
│   ・テスト仕様書・エビデンス取得                    
├─────────────────────────────────────────────────────┤
│ ⑥ 非機能テスト                                      
│   ・セキュリティテスト（OWASP基準）                 
│   ・性能テスト（JMeter / Gatling）                  
│   ・負荷テスト（同時アクセス確認）                  
├─────────────────────────────────────────────────────┤
│ ⑦ 受け入れテスト（UAT）                             
│   ・ユーザー・発注者による最終確認                  │
│   ・本番環境に近い環境で実施                        
└─────────────────────────────────────────────────────┘
